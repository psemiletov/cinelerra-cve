This file contains information about my branch of Cinelerra 2.3.5 CV
To get a copy of the latest version of the branch
git clone git://git.cinelerra-cv.org/einar/cinelerra.git my_cinelerra

This file describes status of this branch as of Apr 10, 2018

Contents.

About this branch.

Changes in this branch

Known problems (eg todo list)


About this branch

This branch is a try to make Cinelerra more stabile - no hangupps
no crashes.

Currently this branch is under development. There is no warranty
that it is usable to create or finish any project. Parts of the program
may work, parts not.

This branch is developed and tested on Ubuntu 14.04 x86-32 and 
Ubuntu 16.04 x86_64

Main change in this branch is display locking. The change was 
huge and locking issues are hard to test.
Another huge change implementation of pts based timing. This enables
to edit media with variable framerate and get rid of assumption
that audio and video start simultaneously.

The branch is backward compatible - it can load projects created with 
official branch of Cinelerra, the result may be somehow different.
The projects saved by this branch can not be loaded to offical Cinelerra.

Changes in this branch:

- changed size of Preferences window to fit it on 800 px height
- edit_font_color initialization of S.U.V
- more info in assert info window
- removed BC_Windowevents (now 6 threads less)
- fixed all of GCC warnings
- fixed timebar cursor updating of viewer and compositor
- trace subsystem was rewritten to static buffers, added backtrace
    dump on crash
- composer and viewer always display the frame starting at the time 
    shown on clock. Frame displayed does not depend on
    forward/backward direction.
- goto window honours time format
- lots of cleanups
- OpenGL is enabled while server glx version is >= 1.3
- new one-line internal api for error messages (macros errormsg
    and errorbox)
- cleanup: removed unused sources from cinelerra, guicast, plugins
- multiline comments of clips and labels are not truncated
- implemented pts based timing on video and audio making possible
    projects without constant framerate
- improved synchronization with Alsa output: no jumping around on playback
- projects created or modified with this branch are incompatible with
    other branches
- removed playback direction dependancy from core rendering
- replaced samplerate based timing with clock based timing
- implemented new API and support macros of all plugins, removed old API
- implemented pts in renderfarm
- created all kind of Null plugins as templates for new plugins
- removed broken plugins including plugins importing from devices
- all configured ALSA PCM devices are selectable
- some improvements and fixes of the build system
- removed all input devices, only editing media from local disk
    is supported
- new plugin C41
- removed confusing "default keyframe", most of its functions moved to the
    first keyframe (increased incompatibility with other branches)
- removed the check of the value in /proc/sys/kernel/shmmax,
    modern distributions should have a reasonable default there
- new overlay engine and resampler by Monty Montgomery
- included Hermann Vosseler's Bezier Patch
- implemented UTF-8 and locale support
- freetype2/xft is the only font rendering system
- using improved images for cinelerra logo and icon
- new plugin: Blue Banana color grading/correction filter
- replaced all coding and encoding with AVlibs (ffmpeg libraries)
- program may be linked to external (system) AVlibs
- AVlibs from ffmpeg 2.8 and later are supported
- OpenGl support is almost removed, will be rewritten

Known problems (todo list)
- use internally only 16bit per color colormodels
- restore OpenGL support of playback and hopefully rendering
- new API of plugins and macros need some documentation
- trimming does not work as described in manual or as expected,
    occasionally crashes
- reel name must be read from project

Bug reporting.
I am very interested about reports of crashes and hangs.
To help debug cinelerra, start it from terminal. If cinelerra hangs,
press Ctrl-C. Copy output to mail and send it to cinelerra ml.
It will be fine if you can describe setps to reproduce crash or hang 
of cinelerra.


Einar RÃ¼nkaru